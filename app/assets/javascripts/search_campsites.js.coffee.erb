geoJsonify = ->
  geoJson =
    type: "FeatureCollection"
    features: [
      type: "Feature"
      properties:
        title: @campsites[1].title
        url: "http://localhost:3000/"
        "marker-color": "#09b"
        "marker-size": "large"
        "marker-symbol": "campsite"

      geometry:
        type: "Point"
        coordinates: [-85.8, 44.831]
    ,
      type: "Feature"
      properties:
        title: "Hynonym Campground"
        url: "http://localhost:3000/"
        "marker-color": "#09b"
        "marker-size": "large"
        "marker-symbol": "campsite"

      geometry:
        type: "Point"
        coordinates: [-86.01, 44.831]
    ]


makeSearchMap = ->
  geoJsonify
  
  # initializes and centers map
  map = L.mapbox.map("resultsMap", "campawesome.h4ojiee7").setView(center, 9)
  
  # set control position
  map.zoomControl.setPosition "bottomright"
  
  # create marker layer
  map.markerLayer.setGeoJSON geoJson
  
  # set markerLayer click behaviors
  map.markerLayer.on "click", (e) ->
    e.layer.openPopup()

  
  # set marker layer mouseover behavior
  map.markerLayer.on "mouseover", (e) ->
    
    # activate tooltip
    e.layer.closePopup()
    e.layer.openPopup()

  
  # set markerLayer mouseout behaviors
  map.markerLayer.on "mouseout", (e) ->